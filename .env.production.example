# =============================================================================
# Goalix Production Environment Template
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env on the production server
# 2. Fill in ALL values marked with <REQUIRED>
# 3. Do NOT commit the actual .env file to git
# 4. Run pre-flight check: grep -E "^[A-Z].*=<" .env (should return nothing)
#
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://goalzenix.com

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
#
# IMPORTANT:
# - Use Docker network hostname (sqm_postgres), NOT localhost
# - Avoid special characters in password (!#$%^&*) - they cause URL encoding issues
# - Test connection: docker exec sqm_postgres psql -U goalix_user -d goalix_db -c '\dt'
#
DATABASE_URL=postgresql://goalix_user:<REQUIRED-PASSWORD>@sqm_postgres:5432/goalix_db

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Format: redis://HOST:PORT
#
# IMPORTANT:
# - Use Docker network hostname (goalix-redis), NOT localhost
#
REDIS_URL=redis://goalix-redis:6379

# -----------------------------------------------------------------------------
# Authentication (NextAuth.js)
# -----------------------------------------------------------------------------
# NEXTAUTH_SECRET: Generate with: openssl rand -base64 32
# NEXTAUTH_URL: Must match your production domain (HTTPS)
#
NEXTAUTH_SECRET=<REQUIRED-GENERATE-WITH-openssl-rand-base64-32>
NEXTAUTH_URL=https://goalzenix.com

# -----------------------------------------------------------------------------
# Email Service (EmailIt)
# -----------------------------------------------------------------------------
# Used for magic link authentication emails
# Get your API key from: https://www.emailit.com/
#
EMAILIT_API_KEY=<REQUIRED-GET-FROM-EMAILIT-DASHBOARD>

# -----------------------------------------------------------------------------
# AI Service (Anthropic Claude)
# -----------------------------------------------------------------------------
# Used for Goal Sharpener and Task Suggester features
# Get your API key from: https://console.anthropic.com/
#
ANTHROPIC_API_KEY=<REQUIRED-GET-FROM-ANTHROPIC-CONSOLE>

# =============================================================================
# VERIFICATION CHECKLIST
# =============================================================================
#
# Before deploying, verify:
# [ ] All <REQUIRED> placeholders have been replaced
# [ ] DATABASE_URL uses sqm_postgres (not localhost)
# [ ] REDIS_URL uses goalix-redis (not localhost)
# [ ] NEXTAUTH_URL uses https:// (not http://)
# [ ] No special characters in database password
# [ ] NEXTAUTH_SECRET is at least 32 characters
#
# Quick validation command:
#   grep -c "<REQUIRED" .env  # Should return 0
#
# =============================================================================
